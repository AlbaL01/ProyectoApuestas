<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OneGoal Chat</title>
    <link rel="stylesheet" href="./CSS/chat.css">
    <link rel="icon" type="image/png" href="../assets/OneGoalLogos/logonegro.png">
</head>

<body>
    <header class="header">
        <div class="header__logo">
            <img src="../assets/OneGoalLogos/logoenterosinfondo.png" alt="OneGoal Logo" class="header__logo-img">
        </div>

        <div class="header__icons">
            <a href="index.html"><img src="../assets/header/si--home-line.png" alt="Home"
                    class="header__icon header__icon_desktop" /></a>
            <!-- hay que añadir el header__icon_desktop para que pueda cogerlo -->
            <a href="bets.html"><img src="../assets/header/ph--soccer-ball.png" alt="Ball"
                    class="header__icon header__icon_desktop" /></a>
            <a href="chat.html"><img src="../assets/header/fluent--chat-multiple-28-regular.png" alt="Chat"
                    class="header__icon__selected header__icon_desktop" /></a>
            <a href="personal.html"><img src="../assets/header/mingcute--user-3-line.png" alt="Avatar"
                    class="header__icon header__icon_desktop" /></a>
            <div class="header__icon_mobile">
                <div><img src="../assets/header/ri--search-line.png" alt="Search" class="header__icon" /></div>
                <div><img src="../assets/header/lets-icons--setting-line.png" alt="Settings" class="header__icon " />
                </div>
            </div>
        </div>

        <div class="header__balance">
            <div class="header__balance-text h4">$200,20</div>
            <button class="header__balance-button"><img src="../assets/header/tabler--plus.png" alt="Settings"
                    class="header__add-balance" /></button>
        </div>
    </header>
    <div class="container">
        <div class="sidebar">
            <h3>Messages</h3>
            <div class="message-list">
                <div class="message-container">
                    <img src="../assets/img/ej1.jpg" alt="User">
                    <div class="message-item">
                        <p class="small">Lorem ipsum dolor sit amet consectetur</p>
                    </div>
                </div>
                <div class="message-container">
                    <img src="../assets/img/ej2.jpg" alt="User">
                    <div class="message-item">
                        <p class="small">Lorem ipsum dolor sit amet consectetur</p>
                    </div>
                </div>
                <div class="message-container">
                    <img src="../assets/img/ej8.jpg" alt="User">
                    <div class="message-item">
                        <p class="small">Lorem ipsum dolor sit amet consectetur</p>
                    </div>
                </div>
                <div class="message-container">
                    <img src="../assets/img/ej5.jpg" alt="User">
                    <div class="message-item">
                        <p class="small">Lorem ipsum dolor sit amet consectetur</p>
                    </div>
                </div>
                <div class="message-container">
                    <img src="../assets/img/ej7.jpg" alt="User">
                    <div class="message-item">
                        <p class="small">Lorem ipsum dolor sit amet consectetur</p>
                    </div>
                </div>
                <div class="message-container">
                    <img src="../assets/img/ej4.jpg" alt="User">
                    <div class="message-item">
                        <p class="small">Lorem ipsum dolor sit amet consectetur</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- Chat Window -->
        <div class="chat__window">
            <!-- Header -->
            <div class="chat__header">
                <img src="../assets/img/ej1.jpg" alt="User" class="user__img">
                <span class="small">Data</span>
                <div class="chat__options">
                    <button class="icon__header"><img src="../assets/chat/streamline--webcam-video.png"
                            alt="icons"></button>
                    <button class="icon__header"><img src="../assets/chat/mynaui--telephone.png" alt="icons"></button>
                    <button class="icon__header"><img src="../assets/chat/mage--dots.png" alt="icons"></button>
                </div>
            </div>

            <!-- Messages -->
            <div class="chat__messages">
                <div class="message received small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message sent small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message received small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message sent small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message received small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message sent small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message received small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message sent small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message received small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message sent small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message received small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message sent small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message received small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message sent small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message received small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message sent small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
                <div class="message received small">Lorem ipsum dolor sit amet consectetur, adipisicing elit.</div>
            </div>

            <div class="chat__footer">
                <button class="icon__footer"><img src="../assets/chat/fluent--emoji-32-light.png" alt="icons"></button>
                <button class="icon__footer"><img src="../assets/chat/codex--file.png" alt="icons"></button>
                <input type="text" class="small" placeholder="Escribe un mensaje ">
                <div class="chat__option">
                    <button class="icon__footer"><img src="../assets/chat/iconamoon--microphone-light.png"
                            alt="icons"></button>
                </div>
            </div>

        </div>
    </div>
    <nav class="mobile-menu">
        <a href="index.html" class="mobile-menu__link">
            <img src="../assets/header/si--home-line2.png" alt="Home" class="mobile-menu__icon mobile-menu__icon" />
        </a>
        <a href="bets.html" class="mobile-menu__link">
            <img src="../assets/header/ph--soccer-ball2.png" alt="Ball" class="mobile-menu__icon" />
        </a>
        <a href="chat.html" class="mobile-menu__link">
            <img src="../assets/header/fluent--chat-multiple-28-regular2.png" alt="Chat"
                class="mobile-menu__icon__selected" />
        </a>
        <a href="personal.html" class="mobile-menu__link">
            <img src="../assets/header/mingcute--user-3-line2.png" alt="Avatar" class="mobile-menu__icon" />
        </a>
    </nav>

    <footer class="footer">
        <div class="footer__payments">
            <a href="https://www.visa.com" target="_blank">
                <img src="../assets/footer/visa.png" alt="Visa" class="footer__payment-icon">
            </a>
            <a href="https://www.paypal.com/es/signin" target="_blank">
                <img src="../assets/footer/paypal.png" alt="PayPal" class="footer__payment-icon">
            </a>
            <a href="https://www.apple.com/apple-pay/" target="_blank">
                <img src="../assets/footer/applepay.png" alt="Apple Pay" class="footer__payment-icon">
            </a>
            <a href="https://www.mastercard.com" target="_blank">
                <img src="../assets/footer/mastercard.png" alt="MasterCard" class="footer__payment-icon">
            </a>
        </div>

        <div class="footer__text-down">
            <p>Terms And Conditions</p>
            <p><img src="../assets/header/simple-icons--creativecommons.png" alt="cc" class="footerCC__icon" /><img
                    src="../assets/header/ri--creative-commons-by-line.png" alt="by" class="footerCC__icon" /> 2023
                OneGoal, Inc.</p>
            <div class="footer__socials">
                <a href="https://www.tiktok.com" target="_blank">
                    <img src="../assets/footer/tiktok.png" alt="Tiktok" class="footer__socials-icon">
                </a>
                <a href="https://www.facebook.com" target="_blank">
                    <img src="../assets/footer/facebook.png" alt="Facebook" class="footer__socials-icon">
                </a>
                <a href="https://www.instagram.com" target="_blank">
                    <img src="../assets/footer/instagram.png" alt="Instagram" class="footer__socials-icon">
                </a>
                <a href="https://www.twitter.com" target="_blank">
                    <img src="../assets/footer/twitter.png" alt="Twitter" class="footer__socials-icon">
                </a>
            </div>
        </div>
    </footer>
</body>
<script>
   document.addEventListener('DOMContentLoaded', () => {
    const chatWindow = document.querySelector('.chat__window');
    const chatHeaderImg = document.querySelector('.chat__header .user__img');
    const messagesContainer = document.querySelector('.messages-container');
    const messageContainers = document.querySelectorAll('.message-container');

    function isMobileOrTablet() {
        return window.matchMedia('(max-width: 1224px)').matches;
    }

    function handleMessageClick(event) {
        if (isMobileOrTablet()) {
            chatWindow.style.display = 'flex';
            chatWindow.style.bottom = '0';
        } else {
            chatWindow.style.display = 'block';
        }

        // Cambiar la imagen del chat (si hubiera chats almacenados se podría cambiar parecido)
        const userImage = event.target.closest('.message-container').querySelector('img'); 
        if (userImage) {
            chatHeaderImg.src = userImage.src;
        }

        // Hacer scroll hacia abajo después de abrir el chat
        scrollToBottom();
    }

    function scrollToBottom() {
        setTimeout(() => {
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }, 200);
    }

    messageContainers.forEach(container => {
        container.addEventListener('click', handleMessageClick);
    });

    // Manejo de resize para detectar teclado en móviles
    window.addEventListener('resize', () => {
        if (window.innerHeight < 500) {
            messagesContainer.style.maxHeight = '50vh';
            chatWindow.style.bottom = 'auto';
        } else {
            messagesContainer.style.maxHeight = '75vh';
            chatWindow.style.bottom = '0';
        }
    });

    // Ocultar chat en escritorio al redimensionar
    window.addEventListener('resize', () => {
        if (!isMobileOrTablet()) {
            chatWindow.style.display = 'none';
        }
    });
});


</script>


</html>